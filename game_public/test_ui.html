<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }
        .light {
            background-color: #f0f0f0;
            color: #333;
        }
        .dark {
            background-color: #333;
            color: #f0f0f0;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            cursor: pointer;
        }
        #content {
            margin-top: 20px;
        }
    </style>
</head>
<body class="light">
    <h1 id="title">UI Demo</h1>
    <div>
        <label for="lang-select">è¯­è¨€:</label>
        <select id="lang-select">
            <option value="zh">ä¸­æ–‡</option>
            <option value="en">English</option>
        </select>
        <label for="theme-select">ä¸»é¢˜:</label>
        <select id="theme-select">
            <option value="light">äº®è‰²</option>
            <option value="dark">æš—è‰²</option>
        </select>
    </div>
    <div id="content">
        <button id="toast-btn">æ˜¾ç¤ºToast</button>
        <button id="confirm-btn">æ˜¾ç¤ºç¡®è®¤é¢æ¿</button>
        <button id="short-confirm-btn">çŸ­ç¡®è®¤</button>
        <button id="options-btn">æ˜¾ç¤ºé€‰é¡¹é¢æ¿</button>
        <button id="few-options-btn">å°‘é€‰é¡¹é¢æ¿</button>
        <button id="med-options-btn">ä¸­ç­‰é€‰é¡¹é¢æ¿</button>
        <button id="short-options-btn">çŸ­æ ‡é¢˜é€‰é¡¹</button>
        <button id="loading-btn">æ˜¾ç¤ºåŠ è½½é¡µé¢</button>
        <button id="waiting-btn">æ˜¾ç¤ºç­‰å¾…</button>
        <button id="hide-waiting-btn">éšè—ç­‰å¾…</button>
    </div>

    <script src="ui.js"></script>
    <script>
        const ui = new UI({ language: 'zh', theme: 'light' });

        const titleEl = document.getElementById('title');
        const toastBtn = document.getElementById('toast-btn');
        const confirmBtn = document.getElementById('confirm-btn');
        const shortConfirmBtn = document.getElementById('short-confirm-btn');
        const optionsBtn = document.getElementById('options-btn');
        const fewOptionsBtn = document.getElementById('few-options-btn');
        const medOptionsBtn = document.getElementById('med-options-btn');
        const shortOptionsBtn = document.getElementById('short-options-btn');
        const loadingBtn = document.getElementById('loading-btn');
        const langSelect = document.getElementById('lang-select');
        const themeSelect = document.getElementById('theme-select');

        // æ›´æ–°ç•Œé¢æ–‡æœ¬
        function updateUI() {
            const isZh = langSelect.value === 'zh';
            titleEl.textContent = isZh ? 'UIæ¼”ç¤º' : 'UI Demo';
            toastBtn.textContent = isZh ? 'æ˜¾ç¤ºToast' : 'Show Toast';
            confirmBtn.textContent = isZh ? 'æ˜¾ç¤ºç¡®è®¤é¢æ¿' : 'Show Confirm Panel';
            shortConfirmBtn.textContent = isZh ? 'çŸ­ç¡®è®¤' : 'Short Confirm';
            optionsBtn.textContent = isZh ? 'æ˜¾ç¤ºé€‰é¡¹é¢æ¿' : 'Show Options Panel';
            fewOptionsBtn.textContent = isZh ? 'å°‘é€‰é¡¹é¢æ¿' : 'Few Options Panel';
            medOptionsBtn.textContent = isZh ? 'ä¸­ç­‰é€‰é¡¹é¢æ¿' : 'Medium Options Panel';
            shortOptionsBtn.textContent = isZh ? 'çŸ­æ ‡é¢˜é€‰é¡¹' : 'Short Title Options';
            loadingBtn.textContent = isZh ? 'æ˜¾ç¤ºåŠ è½½é¡µé¢' : 'Show Loading';
            document.getElementById('waiting-btn').textContent = isZh ? 'æ˜¾ç¤ºç­‰å¾…' : 'Show Waiting';
            document.getElementById('hide-waiting-btn').textContent = isZh ? 'éšè—ç­‰å¾…' : 'Hidden Waiting';
            document.querySelector('label[for="lang-select"]').textContent = isZh ? 'è¯­è¨€:' : 'Language:';
            document.querySelector('label[for="theme-select"]').textContent = isZh ? 'ä¸»é¢˜:' : 'Theme:';
            document.querySelector('#theme-select option[value="light"]').textContent = isZh ? 'äº®è‰²' : 'Light';
            document.querySelector('#theme-select option[value="dark"]').textContent = isZh ? 'æš—è‰²' : 'Dark';
        }

        langSelect.addEventListener('change', () => {
            ui.setLanguage(langSelect.value);
            updateUI();
        });

        themeSelect.addEventListener('change', () => {
            const theme = themeSelect.value;
            ui.setTheme(theme);
            document.body.className = theme;
        });

        toastBtn.addEventListener('click', () => {
            ui.showToast(langSelect.value === 'zh' ? 'è¿™æ˜¯ä¸€ä¸ªToastæ¶ˆæ¯' : 'This is a Toast message');
        });

        confirmBtn.addEventListener('click', () => {
            ui.showConfirmPanel(
                langSelect.value === 'zh' ? 'ç¡®è®¤' : 'Confirm',
                langSelect.value === 'zh' ? 'æ‚¨ç¡®å®šè¦æ‰§è¡Œæ­¤æ“ä½œå—ï¼Ÿ' : 'Are you sure you want to do this?',
                'âš ï¸', // ç¤ºä¾‹emoji
                (confirmed) => {
                    ui.showToast(confirmed ? (langSelect.value === 'zh' ? 'ç¡®è®¤' : 'Confirmed') : (langSelect.value === 'zh' ? 'å–æ¶ˆ' : 'Cancelled'));
                    return true; // æ€»æ˜¯å…³é—­
                }
            );
        });

        shortConfirmBtn.addEventListener('click', () => {
            ui.showConfirmPanel(
                '',
                langSelect.value === 'zh' ? 'ç¡®è®¤ï¼Ÿ' : 'Confirm?',
                null,
                (confirmed) => {
                    ui.showToast(confirmed ? (langSelect.value === 'zh' ? 'å¥½' : 'OK') : (langSelect.value === 'zh' ? 'å–æ¶ˆ' : 'Cancel'));
                }
            );
        });

        fewOptionsBtn.addEventListener('click', () => {
            const isZh = langSelect.value === 'zh';
            ui.showOptionsPanel(
                isZh ? 'é€‰æ‹©' : 'Choose',
                '',
                [
                    {text: isZh ? 'é€‰é¡¹A' : 'Option A'},
                    {text: isZh ? 'é€‰é¡¹B' : 'Option B'}
                ],
                (result) => {
                    if (result.cancel) {
                        ui.showToast(isZh ? 'å–æ¶ˆ' : 'Cancel');
                    } else {
                        ui.showToast(`${isZh ? 'é€‰' : 'Selected'} ${result.selected.text}`);
                    }
                }
            );
        });

        medOptionsBtn.addEventListener('click', () => {
            const isZh = langSelect.value === 'zh';
            ui.showOptionsPanel(
                isZh ? 'æ¸¸æˆæ¨¡å¼' : 'Game Mode',
                isZh ? 'é€‰æ‹©æ‚¨çš„æ¸¸æˆæ–¹å¼' : 'Choose your game mode',
                [
                    {text: isZh ? 'å•äºº' : 'Single Player'},
                    {text: isZh ? 'å¤šäºº' : 'Multiplayer'},
                    {text: isZh ? 'æœ¬åœ°' : 'Local'}
                ],
                (result) => {
                    if (result.cancel) {
                        ui.showToast(isZh ? 'å–æ¶ˆ' : 'Cancel');
                    } else {
                        ui.showToast(`${isZh ? 'é€‰æ‹©' : 'Chose'} ${result.selected.text}`);
                    }
                }
            );
        });

        shortOptionsBtn.addEventListener('click', () => {
            const isZh = langSelect.value === 'zh';
            ui.showOptionsPanel(
                isZh ? 'é€‰' : 'Sel',
                isZh ? 'å¿«é€‰' : 'Quick',
                [
                    {text: isZh ? 'æ˜¯' : 'Yes'},
                    {text: isZh ? 'å¦' : 'No'}
                ],
                (result) => {
                    if (result.cancel) {
                        ui.showToast(isZh ? 'ä¸é€‰' : 'None');
                    } else {
                        ui.showToast(result.selected.text);
                    }
                }
            );
        });

        loadingBtn.addEventListener('click', () => {
            const isZh = langSelect.value === 'zh';
            ui.showLoading(15, isZh ? 'åŒ¹é…ä¸­...' : 'Matching...', () => {
                ui.showToast(isZh ? 'å–æ¶ˆåŠ è½½' : 'Loading cancelled');
                ui.hideLoading();
            });
        });

        const waitingBtn = document.getElementById('waiting-btn');
        const hideWaitingBtn = document.getElementById('hide-waiting-btn');

        waitingBtn.addEventListener('click', () => {
            const isZh = langSelect.value === 'zh';
            ui.showWaiting(isZh ? 'åŒ¹é…ä¸­...' : 'Matching...', 30, () => {
                ui.showToast(isZh ? 'å–æ¶ˆç­‰å¾…' : 'Cancel waiting');
                console.log('é€€å‡ºé¡µé¢æˆ–æ‰§è¡Œé€€å‡ºæ–¹æ³•');
            });
        });

        hideWaitingBtn.addEventListener('click', () => {
            ui.hideWaiting();
        });

        optionsBtn.addEventListener('click', () => {
            const options = [];
            const isZh = langSelect.value === 'zh';
            for (let i = 0; i < 40; i++) {
                const opt = {
                    text: isZh ? `é€‰é¡¹${i + 1}` : `Option ${i + 1}`,
                    desc: isZh ? `è¿™æ˜¯é€‰é¡¹${i + 1}çš„æè¿°` : `Description for Option ${i + 1}`
                };
                if (i % 5 === 0) {
                    opt.image = ['ğŸ‰', 'ğŸ˜€', 'ğŸ‘', 'ğŸŒŸ', 'ğŸ”¥'][Math.floor(i / 5) % 5];
                }
                options.push(opt);
            }
            ui.showOptionsPanel(
                isZh ? 'é€‰æ‹©é€‰é¡¹' : 'Select Option',
                isZh ? 'è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹' : 'Please select an option',
                options,
                (result) => {
                    if (result.cancel) {
                        ui.showToast(isZh ? 'å–æ¶ˆ' : 'Cancelled');
                        return true;
                    } else {
                        ui.showToast(`${isZh ? 'é€‰æ‹©äº†' : 'Selected'} ${result.selected.text}`);
                        return true;
                    }
                }
            );
        });

        updateUI(); // åˆå§‹åŒ–
    </script>
</body>
</html>